<section data-topic="systems" data-menu-title="Token pipeline">
  <h4>Token pipeline fueled by attributes</h4>
  <small balance>Attributes update CSS custom properties, which hydrate design tokens consumed by every component.</small>
</section>
<section data-topic="systems" data-menu-title="Token pipeline">
  <comparison>
    <left>
      <article class="code-stack">
        <pre>
        <code data-trim data-line-numbers class="hljs css">:root {
  --token-accent: var(--accent-attr);
}

[ data-era='future' ] {
  --accent-attr: #00f5ff;
}

flux-panel {
  border-color: var(--token-accent);
}</code></pre>
        <p>Tokens remain single source of truth, attributes only choose which token palette to activate.</p>
      </article>
    </left>
    <right>
      <small>
        <article class="demo-panel" id="demo-systems-token" data-era="past">
          <header>
            <span>Token viewer</span>
            <output data-live-value-target="#demo-systems-token" data-live-value="data-era"></output>
          </header>
          <div class="system-grid">
            <article>
              <h5>Attribute input</h5>
              <p><code>data-era</code></p>
            </article>
            <article>
              <h5>Computed token</h5>
              <p><code>--token-accent</code></p>
            </article>
            <article>
              <h5>Consumer</h5>
              <p><code>.flux-panel</code></p>
            </article>
          </div>
          <p class="status">This pipeline works for spacing, typography, motion curves, anything.</p>
        </article>
      </small>
      <div class="control-row">
        <button type="button" data-attr-target="#demo-systems-token" data-attr-name="data-era" data-attr-value="past" data-attr-group="systems-token" aria-pressed="true">Past palette</button>
        <button type="button" data-attr-target="#demo-systems-token" data-attr-name="data-era" data-attr-value="future" data-attr-group="systems-token" aria-pressed="false">Future palette</button>
      </div>
    </right>
  </comparison>
  <aside class="notes">Baseline ready: CSS custom properties widely supported since 2020.</aside>
</section>
