<section data-topic="foundations" data-menu-title="Foundations lab">
  <h4>Mini lab: <mark>attributes</mark> everywhere</h4>
  <small balance>All foundational pieces together: typed attr, fallbacks, calc, and accessibility. The entire interface reacts to three HTML attributes.</small>
</section>
<section data-topic="foundations" data-menu-title="Foundations lab">
  <comparison>
    <left>
      <article class="code-stack">
        <pre>
          <code data-trim data-line-numbers class="hljs css">
          @supports (width: attr(data-speed px, 0px)) {
            .deck {
              --deck-speed: attr(data-speed number, 0);
            }
          }

          @supports not (width: attr(data-speed px, 0px)) {
            .deck {
              --deck-speed: var(--deck-speed, 0);
            }
          }
        </code></pre>
        <pre>
          <code data-trim data-line-numbers class="hljs html">
          &lt;section
            class="deck"
            data-era="future"
            data-speed="88"
            data-energy="1.21"&gt;
            ...
          &lt;/section&gt;
        </code></pre>
      </article>
    </left>
    <right>
      <small>
        <article class="demo-panel" id="demo-foundations-lab" data-era="future" data-speed="88" data-energy="1.21" style="--flux-speed: 88; --flux-energy: 1.21">
          <header>
            <span>Mini deck</span>
            <output data-live-value-target="#demo-foundations-lab" data-live-value="data-era"></output>
          </header>
          <div class="system-grid">
            <article>
              <h5>Speed</h5>
              <p>
                <output data-live-value-target="#demo-foundations-lab" data-live-value="data-speed" data-live-format="mph"></output>
              </p>
            </article>
            <article>
              <h5>Energy</h5>
              <p>
                <output data-live-value-target="#demo-foundations-lab" data-live-value="data-energy" data-live-format="gw"></output>
              </p>
            </article>
            <article>
              <h5>Era</h5>
              <p>
                <output data-live-value-target="#demo-foundations-lab" data-live-value="data-era"></output>
              </p>
            </article>
          </div>
        </article>
      </small>
      <div class="control-row">
        <button type="button" data-attr-target="#demo-foundations-lab" data-attr-name="data-era" data-attr-value="future" data-attr-group="era-demo-5" aria-pressed="true">Future</button>
        <button type="button" data-attr-target="#demo-foundations-lab" data-attr-name="data-era" data-attr-value="past" data-attr-group="era-demo-5" aria-pressed="false">Past</button>
        <button
          type="button"
          data-attr-target="#demo-foundations-lab"
          data-attr-name="data-speed"
          data-attr-value="42"
          data-attr-style-var="--flux-speed"
          data-attr-group="speed-demo-5"
          aria-pressed="false"
        >
          Idle
        </button>
        <button
          type="button"
          data-attr-target="#demo-foundations-lab"
          data-attr-name="data-speed"
          data-attr-value="88"
          data-attr-style-var="--flux-speed"
          data-attr-group="speed-demo-5"
          aria-pressed="true"
        >
          Jump
        </button>
      </div>
    </right>
  </comparison>
  <aside class="notes">Stack typed attr with fallbacks so the same HTML fuels every layer.</aside>
</section>
