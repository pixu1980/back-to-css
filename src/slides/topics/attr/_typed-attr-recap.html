<section data-topic="foundations" data-menu-title="Typed attr recap">
  <h3>Typed <mark>attr()</mark> as the flux readout</h3>
  <small balance>
    HTML stays the single source of truth. By wiring typed <code>attr()</code> to our widgets we read real numbers, angles, or tokens straight from <code>data-*</code> attributes without authoring
    side channel classes.
  </small>
</section>
<section data-topic="foundations" data-menu-title="Typed attr recap">
  <comparison>
    <left>
      <article class="code-stack">
        <pre>
        <code data-trim data-line-numbers class="hljs html">
        &lt;div
          class=&quot;flux-card&quot;
          data-era=&quot;past&quot;
          data-speed=&quot;72&quot;
          data-energy=&quot;1.21&quot;&gt;
        &lt;/div&gt;
      </code></pre>
        <pre>
        <code data-trim data-line-numbers class="hljs css">
        .flux-card {
          --flux-speed: attr(data-speed number, 0);
          --flux-energy: attr(data-energy number, 0.5);
          --flux-era-hue: if(attr(data-era token) = future, 196, 28);
          box-shadow: 0 0 calc(var(--flux-energy) * 18px)
            hsl(var(--flux-era-hue) 90% 60%);
        }
      </code></pre>
      </article>
    </left>
    <right>
      <small>
        <article class="demo-panel flux-panel" id="demo-typed-attr" data-era="past" data-speed="72" data-energy="1.21" style="--flux-speed: 72; --flux-energy: 1.21">
          <header>
            <span>Flux scope</span>
            <output data-live-value-target="#demo-typed-attr" data-live-value="data-era"></output>
          </header>
          <div class="flux-radial" data-label="speed"></div>
          <div class="flux-readings">
            <dl>
              <dt>Speed</dt>
              <dd>
                <output data-live-value-target="#demo-typed-attr" data-live-value="data-speed" data-live-format="mph"></output>
              </dd>
            </dl>
            <dl>
              <dt>Energy</dt>
              <dd>
                <output data-live-value-target="#demo-typed-attr" data-live-value="data-energy" data-live-format="gw"></output>
              </dd>
            </dl>
          </div>
          <p class="status">Typed attributes feed the UI with unit safe values.</p>
        </article>
      </small>
      <div class="control-row">
        <button type="button" data-attr-target="#demo-typed-attr" data-attr-name="data-era" data-attr-value="past" data-attr-group="era-demo-1" aria-pressed="true">1985</button>
        <button type="button" data-attr-target="#demo-typed-attr" data-attr-name="data-era" data-attr-value="future" data-attr-group="era-demo-1" aria-pressed="false">2015</button>
        <button
          type="button"
          data-attr-target="#demo-typed-attr"
          data-attr-name="data-speed"
          data-attr-value="88"
          data-attr-style-var="--flux-speed"
          data-attr-group="speed-demo-1"
          aria-pressed="false"
        >
          88 mph
        </button>
        <button
          type="button"
          data-attr-target="#demo-typed-attr"
          data-attr-name="data-speed"
          data-attr-value="54"
          data-attr-style-var="--flux-speed"
          data-attr-group="speed-demo-1"
          aria-pressed="true"
        >
          Cruise
        </button>
      </div>
    </right>
  </comparison>
  <aside class="notes">
    Baseline: typed <code>attr()</code> lives in CSS Values 4/5 and is limited to Chromium preview builds. Explain how feature queries or inline custom properties keep the UI working until Baseline
    verification clears it.
  </aside>
</section>
