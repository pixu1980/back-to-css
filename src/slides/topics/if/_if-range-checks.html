<section data-topic="branching" data-menu-title="Range checks">
  <h4>Range checks with <mark>if()</mark> + math</h4>
  <small balance>Use math functions to sanitize input before <code>if()</code> evaluates it. Energy spikes stay inside safe ranges while the UI still dramatizes the threshold.</small>
</section>
<section data-topic="branching" data-menu-title="Range checks">
  <comparison>
    <left>
      <article class="code-stack">
        <pre>
          <code data-trim data-line-numbers class="hljs css">
          .flux-panel {
            --energy: clamp(0.5, attr(data-energy number, 0.5), 1.8);
            --alert-color: if(var(--energy) >= 1.21, #ff0066, #00f5ff);
          }
            
          .flux-panel .status {
            border-left-color: var(--alert-color);
          }
        </code></pre>
      </article>
    </left>
    <right>
      <small>
        <article class="demo-panel flux-panel" id="demo-if-range" data-era="future" data-speed="75" data-energy="1.0" style="--flux-speed: 75; --flux-energy: 1">
          <header>
            <span>Range guard</span>
            <output data-live-value-target="#demo-if-range" data-live-value="data-energy" data-live-format="gw"></output>
          </header>
          <div class="flux-radial" data-label="range"></div>
          <p class="status">Red kicks in past 1.21 GW.</p>
        </article>
      </small>
      <div class="control-row">
        <label>
          Energy
          <input type="range" min="0.5" max="1.8" step="0.01" value="1.0" data-attr-slider-target="#demo-if-range" data-attr-name="data-energy" data-attr-style-var="--flux-energy" />
        </label>
      </div>
    </right>
  </comparison>
  <aside class="notes">Combine <code>clamp()</code> and <code>if()</code> to keep out-of-range values from destroying the animation.</aside>
</section>
