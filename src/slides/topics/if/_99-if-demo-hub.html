<section data-topic="branching" data-menu-title="Branching lab">
  <h4>Mini lab: <mark>logic</mark> without scripts</h4>
  <small balance>We now branch styles, accessibility strings, and energy warnings from the same attributes. Time to wire everything into a micro control room.</small>
</section>
<section data-topic="branching" data-menu-title="Branching lab">
  <comparison>
    <left>
      <article class="code-stack">
        <pre>
        <code data-trim data-line-numbers class="hljs css">
        :root {
          --timeline-phase: if(attr(data-era token, past) = future, 'blue', 'amber');
        }
      </code></pre>
        <pre>
        <code data-trim data-line-numbers class="hljs html">
        &lt;article class=&quot;flux-panel&quot; data-era=&quot;future&quot;&gt;
          ...
        &lt;/article&gt;
      </code></pre>
      </article>
    </left>
    <right>
      <small>
        <article class="demo-panel" id="demo-branching-lab" data-era="future" data-speed="68" data-energy="1.08" style="--flux-speed: 68; --flux-energy: 1.08">
          <header>
            <span>Logic hub</span>
            <output data-live-value-target="#demo-branching-lab" data-live-value="data-era"></output>
          </header>
          <div class="system-grid">
            <article>
              <h5>Speed</h5>
              <p>
                <output data-live-value-target="#demo-branching-lab" data-live-value="data-speed" data-live-format="mph"></output>
              </p>
            </article>
            <article>
              <h5>Energy</h5>
              <p>
                <output data-live-value-target="#demo-branching-lab" data-live-value="data-energy" data-live-format="gw"></output>
              </p>
            </article>
            <article>
              <h5>Announcement</h5>
              <p>Condition text lives in CSS.</p>
            </article>
          </div>
        </article>
      </small>
      <div class="control-row">
        <button type="button" data-attr-target="#demo-branching-lab" data-attr-name="data-era" data-attr-value="future" data-attr-group="branching-lab-era" aria-pressed="true">Future</button>
        <button type="button" data-attr-target="#demo-branching-lab" data-attr-name="data-era" data-attr-value="past" data-attr-group="branching-lab-era" aria-pressed="false">Past</button>
      </div>
    </right>
  </comparison>
  <aside class="notes">The lab recap primes the audience for reusable logic blocks.</aside>
</section>
