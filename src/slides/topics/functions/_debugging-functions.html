<section data-topic="functions" data-menu-title="Debugging">
  <h4>Debug @function like production code</h4>
  <small balance>Keep helpers pure, expose computed values via custom properties, and fall back gracefully when the browser cannot execute the logic yet.</small>
</section>
<section data-topic="functions" data-menu-title="Debugging">
  <comparison>
    <left>
      <article class="code-stack">
        <pre>
        <code data-trim data-line-numbers class="hljs css">
          @supports (background: anchor-size()) {
            @function normalize-speed($speed) {
              @return clamp(0, ($speed - 60) / 28, 1);
            }

            .flux-panel {
              --debug-speed: normalize-speed(attr(data-speed number, 55));
            }
          }

          @supports not (background: anchor-size()) {
            .flux-panel {
              --debug-speed: 0.5;
            }
          }
        </code>
      </pre>
        <p>Expose <code>--debug-speed</code> to DevTools so engineers can verify every attribute mapping in real time.</p>
      </article>
    </left>
    <right>
      <small>
        <article class="demo-panel flux-panel" id="demo-function-debug" data-speed="90" data-energy="1.21" data-era="future" data-debug="on">
          <div class="flux-radial" data-label="debug"></div>
          <p class="status">Toggle <abbr title="Developer tools">DevTools</abbr> custom properties view: <code>--debug-speed</code> mirrors the helper output.</p>
        </article>
      </small>
    </right>
  </comparison>
  <aside class="notes">Feature queries + exposed properties keep future CSS experiments safe in prod.</aside>
</section>
