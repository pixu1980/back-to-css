<section data-topic="functions" data-menu-title="Timeline helpers">
  <h4>Timeline <mark>@function</mark> utilities</h4>
  <small balance>Convert years into percentages or offsets once. Every control that needs a marker simply calls the helper with the attribute value.</small>
</section>
<section data-topic="functions" data-menu-title="Timeline helpers">
  <comparison>
    <left>
      <article class="code-stack">
        <pre>
          <code data-trim data-line-numbers class="hljs css">
          @function timeline-offset($year) {
            $range: 2015 - 1955;
            @return calc((max(1955, min(2015, $year)) - 1955) / $range * 100%);
          }

          .timeline-marker {
            transform: translateX(timeline-offset(attr(data-stop number, 1955)));
          }
        </code></pre>
      </article>
    </left>
    <right>
      <small>
        <article class="demo-panel timeline-console" id="demo-function-timeline" data-era="future" data-stop="2015" data-departure="1985" style="--timeline-offset: 100%">
          <header>
            <span>Timeline helper</span>
            <output data-live-value-target="#demo-function-timeline" data-live-value="data-stop" data-live-format="year"></output>
          </header>
          <div class="timeline-track" aria-hidden="true">
            <div class="timeline-marker"></div>
          </div>
          <footer>
            <span>1955</span>
            <span>2015</span>
          </footer>
        </article>
      </small>
      <div class="control-row">
        <button type="button" data-attr-target="#demo-function-timeline" data-attr-name="data-stop" data-attr-value="1955" data-attr-group="function-timeline" aria-pressed="false">1955</button>
        <button type="button" data-attr-target="#demo-function-timeline" data-attr-name="data-stop" data-attr-value="1985" data-attr-group="function-timeline" aria-pressed="false">1985</button>
        <button type="button" data-attr-target="#demo-function-timeline" data-attr-name="data-stop" data-attr-value="2015" data-attr-group="function-timeline" aria-pressed="true">2015</button>
      </div>
    </right>
  </comparison>
  <aside class="notes">Once the helper lands, every timeline control stays perfectly in sync.</aside>
</section>
